{"ast":null,"code":"import { on, once } from '../../utils/dom.mjs';\nvar RepeatClick = {\n  beforeMount(el, binding) {\n    let interval = null;\n    let startTime;\n    const handler = () => binding.value && binding.value();\n    const clear = () => {\n      if (Date.now() - startTime < 100) {\n        handler();\n      }\n      clearInterval(interval);\n      interval = null;\n    };\n    on(el, \"mousedown\", e => {\n      if (e.button !== 0) return;\n      startTime = Date.now();\n      once(document, \"mouseup\", clear);\n      clearInterval(interval);\n      interval = setInterval(handler, 100);\n    });\n  }\n};\nexport { RepeatClick as default };","map":{"version":3,"names":["RepeatClick","beforeMount","el","binding","interval","startTime","handler","value","clear","Date","now","clearInterval","on","e","button","once","document","setInterval"],"sources":["../../../../../packages/directives/repeat-click/index.ts"],"sourcesContent":["import { on, once } from '@element-plus/utils/dom'\n\nimport type { ObjectDirective, DirectiveBinding } from 'vue'\n\nexport default {\n  beforeMount(el: HTMLElement, binding: DirectiveBinding) {\n    let interval = null\n    let startTime: number\n    const handler = () => binding.value && binding.value()\n    const clear = () => {\n      if (Date.now() - startTime < 100) {\n        handler()\n      }\n      clearInterval(interval)\n      interval = null\n    }\n\n    on(el, 'mousedown', (e: MouseEvent) => {\n      if ((e as any).button !== 0) return\n      startTime = Date.now()\n      once(document as any, 'mouseup', clear)\n      clearInterval(interval)\n      interval = setInterval(handler, 100)\n    })\n  },\n} as ObjectDirective\n"],"mappings":";AAIA,IAAAA,WAAA,GAAe;EACbC,YAAYC,EAAA,EAAiBC,OAAA,EAA2B;IACtD,IAAIC,QAAA,GAAW;IACf,IAAIC,SAAA;IACJ,MAAMC,OAAA,GAAUA,CAAA,KAAMH,OAAA,CAAQI,KAAA,IAASJ,OAAA,CAAQI,KAAA;IAC/C,MAAMC,KAAA,GAAQA,CAAA,KAAM;MAClB,IAAIC,IAAA,CAAKC,GAAA,KAAQL,SAAA,GAAY,KAAK;QAChCC,OAAA;MAAA;MAEFK,aAAA,CAAcP,QAAA;MACdA,QAAA,GAAW;IAAA;IAGbQ,EAAA,CAAGV,EAAA,EAAI,aAAcW,CAAA,IAAkB;MACrC,IAAKA,CAAA,CAAUC,MAAA,KAAW,GAAG;MAC7BT,SAAA,GAAYI,IAAA,CAAKC,GAAA;MACjBK,IAAA,CAAKC,QAAA,EAAiB,WAAWR,KAAA;MACjCG,aAAA,CAAcP,QAAA;MACdA,QAAA,GAAWa,WAAA,CAAYX,OAAA,EAAS;IAAA;EAAA;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}