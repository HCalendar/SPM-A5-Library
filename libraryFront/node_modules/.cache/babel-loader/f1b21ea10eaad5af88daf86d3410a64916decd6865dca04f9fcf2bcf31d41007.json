{"ast":null,"code":"import { isObject } from '@vue/shared';\nimport { FORWARD, BACKWARD, LTR, RTL, HORIZONTAL, RTL_OFFSET_POS_DESC, RTL_OFFSET_NAG, RTL_OFFSET_POS_ASC, PageKey } from './defaults.mjs';\nconst getScrollDir = (prev, cur) => prev < cur ? FORWARD : BACKWARD;\nconst isHorizontal = dir => dir === LTR || dir === RTL || dir === HORIZONTAL;\nconst isRTL = dir => dir === RTL;\nlet cachedRTLResult = null;\nfunction getRTLOffsetType(recalculate = false) {\n  if (cachedRTLResult === null || recalculate) {\n    const outerDiv = document.createElement(\"div\");\n    const outerStyle = outerDiv.style;\n    outerStyle.width = \"50px\";\n    outerStyle.height = \"50px\";\n    outerStyle.overflow = \"scroll\";\n    outerStyle.direction = \"rtl\";\n    const innerDiv = document.createElement(\"div\");\n    const innerStyle = innerDiv.style;\n    innerStyle.width = \"100px\";\n    innerStyle.height = \"100px\";\n    outerDiv.appendChild(innerDiv);\n    document.body.appendChild(outerDiv);\n    if (outerDiv.scrollLeft > 0) {\n      cachedRTLResult = RTL_OFFSET_POS_DESC;\n    } else {\n      outerDiv.scrollLeft = 1;\n      if (outerDiv.scrollLeft === 0) {\n        cachedRTLResult = RTL_OFFSET_NAG;\n      } else {\n        cachedRTLResult = RTL_OFFSET_POS_ASC;\n      }\n    }\n    document.body.removeChild(outerDiv);\n    return cachedRTLResult;\n  }\n  return cachedRTLResult;\n}\nconst getRelativePos = (e, layout) => {\n  return \"touches\" in e ? e.touches[0][PageKey[layout]] : e[PageKey[layout]];\n};\nfunction renderThumbStyle({\n  move,\n  size,\n  bar\n}, layout) {\n  const style = {};\n  const translate = `translate${bar.axis}(${move}px)`;\n  style[bar.size] = size;\n  style.transform = translate;\n  style.msTransform = translate;\n  style.webkitTransform = translate;\n  if (layout === \"horizontal\") {\n    style.height = \"100%\";\n  } else {\n    style.width = \"100%\";\n  }\n  return style;\n}\nconst isFF = typeof navigator !== \"undefined\" && isObject(navigator) && /Firefox/i.test(navigator.userAgent);\nexport { getRTLOffsetType, getRelativePos, getScrollDir, isFF, isHorizontal, isRTL, renderThumbStyle };","map":{"version":3,"names":["getScrollDir","prev","cur","FORWARD","BACKWARD","isHorizontal","dir","LTR","RTL","HORIZONTAL","isRTL","cachedRTLResult","recalculate","outerDiv","document","createElement","outerStyle","style","width","height","overflow","direction","innerDiv","innerStyle","appendChild","body","scrollLeft","RTL_OFFSET_POS_DESC","RTL_OFFSET_NAG","RTL_OFFSET_POS_ASC","removeChild","getRelativePos","e","layout","touches","PageKey","move","size","bar","translate","axis","transform","msTransform","webkitTransform","isFF","navigator","isObject","test","userAgent"],"sources":["../../../../../../packages/components/virtual-list/src/utils.ts"],"sourcesContent":["import { isObject } from '@vue/shared'\nimport {\n  FORWARD,\n  BACKWARD,\n  LTR,\n  RTL,\n  HORIZONTAL,\n  RTL_OFFSET_NAG,\n  RTL_OFFSET_POS_DESC,\n  RTL_OFFSET_POS_ASC,\n  PageKey,\n} from './defaults'\n\nimport type { CSSProperties } from 'vue'\nimport type { RTLOffsetType, Direction, LayoutDirection } from './types'\n\nexport const getScrollDir = (prev: number, cur: number) =>\n  prev < cur ? FORWARD : BACKWARD\n\nexport const isHorizontal = (dir: string) =>\n  dir === LTR || dir === RTL || dir === HORIZONTAL\n\nexport const isRTL = (dir: Direction) => dir === RTL\n\nlet cachedRTLResult: RTLOffsetType | null = null\n\nexport function getRTLOffsetType(recalculate = false): RTLOffsetType {\n  if (cachedRTLResult === null || recalculate) {\n    const outerDiv = document.createElement('div')\n    const outerStyle = outerDiv.style\n    outerStyle.width = '50px'\n    outerStyle.height = '50px'\n    outerStyle.overflow = 'scroll'\n    outerStyle.direction = 'rtl'\n\n    const innerDiv = document.createElement('div')\n    const innerStyle = innerDiv.style\n    innerStyle.width = '100px'\n    innerStyle.height = '100px'\n\n    outerDiv.appendChild(innerDiv)\n\n    document.body.appendChild(outerDiv)\n\n    if (outerDiv.scrollLeft > 0) {\n      cachedRTLResult = RTL_OFFSET_POS_DESC\n    } else {\n      outerDiv.scrollLeft = 1\n      if (outerDiv.scrollLeft === 0) {\n        cachedRTLResult = RTL_OFFSET_NAG\n      } else {\n        cachedRTLResult = RTL_OFFSET_POS_ASC\n      }\n    }\n\n    document.body.removeChild(outerDiv)\n\n    return cachedRTLResult\n  }\n\n  return cachedRTLResult\n}\n\nexport const getRelativePos = (\n  e: TouchEvent | MouseEvent,\n  layout: LayoutDirection\n) => {\n  return 'touches' in e ? e.touches[0][PageKey[layout]] : e[PageKey[layout]]\n}\n\nexport function renderThumbStyle({ move, size, bar }, layout: string) {\n  const style: CSSProperties = {}\n  const translate = `translate${bar.axis}(${move}px)`\n\n  style[bar.size] = size\n  style.transform = translate\n  style.msTransform = translate\n  // polyfill\n  ;(style as any).webkitTransform = translate\n\n  if (layout === 'horizontal') {\n    style.height = '100%'\n  } else {\n    style.width = '100%'\n  }\n\n  return style\n}\n\nexport const isFF =\n  typeof navigator !== 'undefined' &&\n  isObject(navigator) &&\n  /Firefox/i.test(navigator.userAgent)\n"],"mappings":";;MAgBaA,YAAA,GAAeA,CAACC,IAAA,EAAcC,GAAA,KACzCD,IAAA,GAAOC,GAAA,GAAMC,OAAA,GAAUC,QAAA;MAEZC,YAAA,GAAgBC,GAAA,IAC3BA,GAAA,KAAQC,GAAA,IAAOD,GAAA,KAAQE,GAAA,IAAOF,GAAA,KAAQG,UAAA;MAE3BC,KAAA,GAASJ,GAAA,IAAmBA,GAAA,KAAQE,GAAA;AAEjD,IAAIG,eAAA,GAAwC;0BAEXC,WAAA,GAAc,OAAsB;EACnE,IAAID,eAAA,KAAoB,QAAQC,WAAA,EAAa;IAC3C,MAAMC,QAAA,GAAWC,QAAA,CAASC,aAAA,CAAc;IACxC,MAAMC,UAAA,GAAaH,QAAA,CAASI,KAAA;IAC5BD,UAAA,CAAWE,KAAA,GAAQ;IACnBF,UAAA,CAAWG,MAAA,GAAS;IACpBH,UAAA,CAAWI,QAAA,GAAW;IACtBJ,UAAA,CAAWK,SAAA,GAAY;IAEvB,MAAMC,QAAA,GAAWR,QAAA,CAASC,aAAA,CAAc;IACxC,MAAMQ,UAAA,GAAaD,QAAA,CAASL,KAAA;IAC5BM,UAAA,CAAWL,KAAA,GAAQ;IACnBK,UAAA,CAAWJ,MAAA,GAAS;IAEpBN,QAAA,CAASW,WAAA,CAAYF,QAAA;IAErBR,QAAA,CAASW,IAAA,CAAKD,WAAA,CAAYX,QAAA;IAE1B,IAAIA,QAAA,CAASa,UAAA,GAAa,GAAG;MAC3Bf,eAAA,GAAkBgB,mBAAA;IAAA,OACb;MACLd,QAAA,CAASa,UAAA,GAAa;MACtB,IAAIb,QAAA,CAASa,UAAA,KAAe,GAAG;QAC7Bf,eAAA,GAAkBiB,cAAA;MAAA,OACb;QACLjB,eAAA,GAAkBkB,kBAAA;MAAA;IAAA;IAItBf,QAAA,CAASW,IAAA,CAAKK,WAAA,CAAYjB,QAAA;IAE1B,OAAOF,eAAA;EAAA;EAGT,OAAOA,eAAA;AAAA;MAGIoB,cAAA,GAAiBA,CAC5BC,CAAA,EACAC,MAAA,KACG;EACH,OAAO,aAAaD,CAAA,GAAIA,CAAA,CAAEE,OAAA,CAAQ,GAAGC,OAAA,CAAQF,MAAA,KAAWD,CAAA,CAAEG,OAAA,CAAQF,MAAA;AAAA;0BAGnC;EAAEG,IAAA;EAAMC,IAAA;EAAMC;AAAA,GAAOL,MAAA,EAAgB;EACpE,MAAMhB,KAAA,GAAuB;EAC7B,MAAMsB,SAAA,GAAY,YAAYD,GAAA,CAAIE,IAAA,IAAQJ,IAAA;EAE1CnB,KAAA,CAAMqB,GAAA,CAAID,IAAA,IAAQA,IAAA;EAClBpB,KAAA,CAAMwB,SAAA,GAAYF,SAAA;EAClBtB,KAAA,CAAMyB,WAAA,GAAcH,SAAA;EAElBtB,KAAA,CAAc0B,eAAA,GAAkBJ,SAAA;EAElC,IAAIN,MAAA,KAAW,cAAc;IAC3BhB,KAAA,CAAME,MAAA,GAAS;EAAA,OACV;IACLF,KAAA,CAAMC,KAAA,GAAQ;EAAA;EAGhB,OAAOD,KAAA;AAAA;MAGI2B,IAAA,GACX,OAAOC,SAAA,KAAc,eACrBC,QAAA,CAASD,SAAA,KACT,WAAWE,IAAA,CAAKF,SAAA,CAAUG,SAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}