{"ast":null,"code":"import { defineComponent, inject, computed } from 'vue';\nimport { CaretRight } from '@element-plus/icons-vue';\nimport { ElIcon } from '../../icon/index.mjs';\nimport { ElCheckbox } from '../../checkbox/index.mjs';\nimport ElNodeContent from './tree-node-content.mjs';\nimport { treeNodeProps, treeNodeEmits, ROOT_TREE_INJECTION_KEY, NODE_CONTEXTMENU } from './virtual-tree.mjs';\nconst DEFAULT_ICON = \"caret-right\";\nvar script = defineComponent({\n  name: \"ElTreeNode\",\n  components: {\n    ElIcon,\n    CaretRight,\n    ElCheckbox,\n    ElNodeContent\n  },\n  props: treeNodeProps,\n  emits: treeNodeEmits,\n  setup(props, {\n    emit\n  }) {\n    const tree = inject(ROOT_TREE_INJECTION_KEY);\n    const indent = computed(() => {\n      var _a;\n      return (_a = tree == null ? void 0 : tree.props.indent) != null ? _a : 16;\n    });\n    const icon = computed(() => {\n      var _a;\n      return (_a = tree == null ? void 0 : tree.props.icon) != null ? _a : DEFAULT_ICON;\n    });\n    const handleClick = () => {\n      emit(\"click\", props.node);\n    };\n    const handleExpandIconClick = () => {\n      emit(\"toggle\", props.node);\n    };\n    const handleCheckChange = value => {\n      emit(\"check\", props.node, value);\n    };\n    const handleContextMenu = event => {\n      var _a, _b, _c, _d;\n      if ((_c = (_b = (_a = tree == null ? void 0 : tree.instance) == null ? void 0 : _a.vnode) == null ? void 0 : _b.props) == null ? void 0 : _c[\"onNodeContextmenu\"]) {\n        event.stopPropagation();\n        event.preventDefault();\n      }\n      tree == null ? void 0 : tree.ctx.emit(NODE_CONTEXTMENU, event, (_d = props.node) == null ? void 0 : _d.data, props.node);\n    };\n    return {\n      indent,\n      icon,\n      handleClick,\n      handleExpandIconClick,\n      handleCheckChange,\n      handleContextMenu\n    };\n  }\n});\nexport { script as default };","map":{"version":3,"names":["DEFAULT_ICON","script","defineComponent","name","components","ElIcon","CaretRight","ElCheckbox","ElNodeContent","props","treeNodeProps","emits","treeNodeEmits","setup","emit","tree","inject","ROOT_TREE_INJECTION_KEY","indent","computed","_a","icon","handleClick","node","handleExpandIconClick","handleCheckChange","value","handleContextMenu","event","_c","_b","instance","vnode","stopPropagation","preventDefault","ctx","NODE_CONTEXTMENU","_d","data"],"sources":["../../../../../../packages/components/tree-v2/src/tree-node.vue"],"sourcesContent":["<template>\n  <div\n    ref=\"node$\"\n    class=\"el-tree-node\"\n    :class=\"{\n      'is-expanded': expanded,\n      'is-current': current,\n      'is-focusable': !disabled,\n      'is-checked': !disabled && checked,\n    }\"\n    role=\"treeitem\"\n    tabindex=\"-1\"\n    :aria-expanded=\"expanded\"\n    :aria-disabled=\"disabled\"\n    :aria-checked=\"checked\"\n    :data-key=\"node?.key\"\n    @click.stop=\"handleClick\"\n    @contextmenu=\"handleContextMenu\"\n  >\n    <div\n      class=\"el-tree-node__content\"\n      :style=\"{ paddingLeft: `${(node.level - 1) * indent}px` }\"\n    >\n      <el-icon\n        v-if=\"icon\"\n        :class=\"[\n          {\n            'is-leaf': node?.isLeaf,\n            'is-hidden': hiddenExpandIcon,\n            expanded: !node?.isLeaf && expanded,\n          },\n          'el-tree-node__expand-icon',\n        ]\"\n        @click.stop=\"handleExpandIconClick\"\n      >\n        <component :is=\"icon\" />\n      </el-icon>\n      <el-checkbox\n        v-if=\"showCheckbox\"\n        :model-value=\"checked\"\n        :indeterminate=\"indeterminate\"\n        :disabled=\"disabled\"\n        @change=\"handleCheckChange\"\n        @click.stop\n      />\n      <el-node-content :node=\"node\" />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, inject } from 'vue'\nimport { CaretRight } from '@element-plus/icons-vue'\nimport ElIcon from '@element-plus/components/icon'\nimport ElCheckbox from '@element-plus/components/checkbox'\nimport ElNodeContent from './tree-node-content'\nimport {\n  ROOT_TREE_INJECTION_KEY,\n  NODE_CONTEXTMENU,\n  treeNodeEmits,\n  treeNodeProps,\n} from './virtual-tree'\n\nconst DEFAULT_ICON = 'caret-right'\n\nexport default defineComponent({\n  name: 'ElTreeNode',\n  components: {\n    ElIcon,\n    CaretRight,\n    ElCheckbox,\n    ElNodeContent,\n  },\n  props: treeNodeProps,\n  emits: treeNodeEmits,\n  setup(props, { emit }) {\n    const tree = inject(ROOT_TREE_INJECTION_KEY)\n\n    const indent = computed(() => {\n      return tree?.props.indent ?? 16\n    })\n\n    const icon = computed(() => {\n      return tree?.props.icon ?? DEFAULT_ICON\n    })\n\n    const handleClick = () => {\n      emit('click', props.node)\n    }\n    const handleExpandIconClick = () => {\n      emit('toggle', props.node)\n    }\n    const handleCheckChange = (value: boolean) => {\n      emit('check', props.node, value)\n    }\n    const handleContextMenu = (event: Event) => {\n      if (tree?.instance?.vnode?.props?.['onNodeContextmenu']) {\n        event.stopPropagation()\n        event.preventDefault()\n      }\n      tree?.ctx.emit(NODE_CONTEXTMENU, event, props.node?.data, props.node)\n    }\n\n    return {\n      indent,\n      icon,\n      handleClick,\n      handleExpandIconClick,\n      handleCheckChange,\n      handleContextMenu,\n    }\n  },\n})\n</script>\n"],"mappings":";;;;;;AA+DA,MAAMA,YAAA,GAAe;AAErB,IAAAC,MAAA,GAAeC,eAAA,CAAgB;EAC7BC,IAAA,EAAM;EACNC,UAAA,EAAY;IACVC,MAAA;IACAC,UAAA;IACAC,UAAA;IACAC;EAAA;EAEFC,KAAA,EAAOC,aAAA;EACPC,KAAA,EAAOC,aAAA;EACPC,MAAMJ,KAAA,EAAO;IAAEK;EAAA,GAAQ;IACrB,MAAMC,IAAA,GAAOC,MAAA,CAAOC,uBAAA;IAEpB,MAAMC,MAAA,GAASC,QAAA,CAAS,MAAM;;MAC5B,OAAO,CAAAC,EAAA,GAAAL,IAAA,oBAAAA,IAAA,CAAMN,KAAA,CAAMS,MAAA,KAAZ,OAAAE,EAAA,GAAsB;IAAA;IAG/B,MAAMC,IAAA,GAAOF,QAAA,CAAS,MAAM;;MAC1B,OAAO,CAAAC,EAAA,GAAAL,IAAA,oBAAAA,IAAA,CAAMN,KAAA,CAAMY,IAAA,KAAZ,OAAAD,EAAA,GAAoBpB,YAAA;IAAA;IAG7B,MAAMsB,WAAA,GAAcA,CAAA,KAAM;MACxBR,IAAA,CAAK,SAASL,KAAA,CAAMc,IAAA;IAAA;IAEtB,MAAMC,qBAAA,GAAwBA,CAAA,KAAM;MAClCV,IAAA,CAAK,UAAUL,KAAA,CAAMc,IAAA;IAAA;IAEvB,MAAME,iBAAA,GAAqBC,KAAA,IAAmB;MAC5CZ,IAAA,CAAK,SAASL,KAAA,CAAMc,IAAA,EAAMG,KAAA;IAAA;IAE5B,MAAMC,iBAAA,GAAqBC,KAAA,IAAiB;;MAC1C,IAAI,CAAAC,EAAA,IAAAC,EAAA,IAAAV,EAAA,GAAAL,IAAA,oBAAAA,IAAA,CAAMgB,QAAA,KAAN,gBAAAX,EAAA,CAAgBY,KAAA,KAAhB,gBAAAF,EAAA,CAAuBrB,KAAA,KAAvB,gBAAAoB,EAAA,CAA+B,sBAAsB;QACvDD,KAAA,CAAMK,eAAA;QACNL,KAAA,CAAMM,cAAA;MAAA;MAERnB,IAAA,oBAAAA,IAAA,CAAMoB,GAAA,CAAIrB,IAAA,CAAKsB,gBAAA,EAAkBR,KAAA,EAAO,CAAAS,EAAA,GAAA5B,KAAA,CAAMc,IAAA,KAAN,gBAAAc,EAAA,CAAYC,IAAA,EAAM7B,KAAA,CAAMc,IAAA;IAAA;IAGlE,OAAO;MACLL,MAAA;MACAG,IAAA;MACAC,WAAA;MACAE,qBAAA;MACAC,iBAAA;MACAE;IAAA;EAAA;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}