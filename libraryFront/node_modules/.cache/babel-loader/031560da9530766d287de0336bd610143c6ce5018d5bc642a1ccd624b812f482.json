{"ast":null,"code":"import { toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-39be15ad\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"info-container\"\n};\nconst _hoisted_2 = {\n  class: \"card-content\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"card-actions\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_el_card, {\n    class: \"card-with-button\",\n    style: {\n      \"width\": \"80%\",\n      \"margin-left\": \"120px\",\n      \"margin-top\": \"10px\",\n      \"background\": \"beige\"\n    }\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"h3\", null, \"User Name: \" + _toDisplayString($props.info.username), 1 /* TEXT */), _createElementVNode(\"p\", null, \"comment: \" + _toDisplayString($props.info.content), 1 /* TEXT */)]), $props.info.userid.toLocaleString() === this.userid.toLocaleString() || this.role === 1 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createVNode(_component_el_button, {\n      type: \"danger\",\n      size: \"mini\",\n      onClick: _cache[0] || (_cache[0] = $event => $options.deleteComment($props.info.id))\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"Delete\")]),\n      _: 1 /* STABLE */\n    })])) : _createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createVNode","_component_el_card","style","default","_withCtx","_createElementVNode","_hoisted_2","_toDisplayString","$props","info","username","content","userid","toLocaleString","role","_hoisted_3","_component_el_button","type","size","onClick","_cache","$event","$options","deleteComment","id","_createTextVNode","_","_createCommentVNode"],"sources":["G:\\SPM-A5-Library\\libraryFront\\src\\views\\SingleComment.vue"],"sourcesContent":["<template>\r\n  <div class=\"info-container\">\r\n    <el-card class=\"card-with-button\" style=\"width: 80%;margin-left: 120px; margin-top: 10px;background: beige\">\r\n      <div class=\"card-content\">\r\n        <h3>User Name: {{ info.username }}</h3>\r\n        <p>comment: {{ info.content }}</p>\r\n      </div>\r\n      <div class=\"card-actions\" v-if=\"info.userid.toLocaleString() === this.userid.toLocaleString() || this.role === 1\">\r\n        <el-button type=\"danger\" size=\"mini\" @click=\"deleteComment(info.id)\">Delete</el-button>\r\n      </div>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/utils/request\";\r\nimport {ElMessage} from \"element-plus\";\r\n\r\nexport default {\r\n  props: ['info'],\r\n  created(){\r\n    let userStr = sessionStorage.getItem(\"user\") ||\"{}\"\r\n    this.user = JSON.parse(userStr)\r\n    this.userid=this.user.id\r\n    this.role=this.user.role\r\n  },\r\n  methods:{\r\n    deleteComment(id){\r\n      console.log(id)\r\n      request.delete(\"http://localhost:8181/comment/deleteRecord/\" + id ).then(res =>{\r\n        console.log(res)\r\n        if(res.code == 0 ){\r\n          ElMessage.success(\"Successfully delete!\")\r\n        }\r\n        else\r\n          ElMessage.error(res.msg)\r\n        window.location.reload()\r\n      })\r\n    }\r\n  },\r\n  data(){\r\n    return{\r\n      userid:\"\",\r\n      role:0\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.card-with-button {\r\n  display: flex;\r\n  flex-direction: column; /* 默认是column，但这里明确一下 */\r\n}\r\n\r\n.card-content {\r\n  /* 这里可以根据需要设置内容的样式 */\r\n  flex: 1; /* 让内容占据剩余空间 */\r\n}\r\n\r\n.card-actions {\r\n  display: flex;\r\n  justify-content: flex-end; /* 将子元素（按钮）对齐到右边 */\r\n  margin-top: auto; /* 将动作栏推到card的底部（如果有垂直空间的话） */\r\n}\r\n</style>\r\n"],"mappings":";;;EACOA,KAAK,EAAC;AAAgB;;EAElBA,KAAK,EAAC;AAAc;;EAH/BC,GAAA;EAOWD,KAAK,EAAC;;;;;uBANfE,mBAAA,CAUM,OAVNC,UAUM,GATJC,YAAA,CAQUC,kBAAA;IARDL,KAAK,EAAC,kBAAkB;IAACM,KAAyE,EAAzE;MAAA;MAAA;MAAA;MAAA;IAAA;;IAFtCC,OAAA,EAAAC,QAAA,CAGM,MAGM,CAHNC,mBAAA,CAGM,OAHNC,UAGM,GAFJD,mBAAA,CAAuC,YAAnC,aAAW,GAAAE,gBAAA,CAAGC,MAAA,CAAAC,IAAI,CAACC,QAAQ,kBAC/BL,mBAAA,CAAkC,WAA/B,WAAS,GAAAE,gBAAA,CAAGC,MAAA,CAAAC,IAAI,CAACE,OAAO,iB,GAEGH,MAAA,CAAAC,IAAI,CAACG,MAAM,CAACC,cAAc,YAAYD,MAAM,CAACC,cAAc,WAAWC,IAAI,U,cAA1GhB,mBAAA,CAEM,OAFNiB,UAEM,GADJf,YAAA,CAAuFgB,oBAAA;MAA5EC,IAAI,EAAC,QAAQ;MAACC,IAAI,EAAC,MAAM;MAAEC,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEC,QAAA,CAAAC,aAAa,CAACf,MAAA,CAAAC,IAAI,CAACe,EAAE;;MAR1ErB,OAAA,EAAAC,QAAA,CAQ6E,MAAM,CARnFqB,gBAAA,CAQ6E,QAAM,E;MARnFC,CAAA;YAAAC,mBAAA,e;IAAAD,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}