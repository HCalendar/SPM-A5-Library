{"ast":null,"code":"import { ref, onMounted, watch } from 'vue';\nconst useThrottleRender = (loading, throttle = 0) => {\n  if (throttle === 0) return loading;\n  const throttled = ref(false);\n  let timeoutHandle = 0;\n  const dispatchThrottling = () => {\n    if (timeoutHandle) {\n      clearTimeout(timeoutHandle);\n    }\n    timeoutHandle = window.setTimeout(() => {\n      throttled.value = loading.value;\n    }, throttle);\n  };\n  onMounted(dispatchThrottling);\n  watch(() => loading.value, val => {\n    if (val) {\n      dispatchThrottling();\n    } else {\n      throttled.value = val;\n    }\n  });\n  return throttled;\n};\nexport { useThrottleRender };","map":{"version":3,"names":["useThrottleRender","loading","throttle","throttled","ref","timeoutHandle","dispatchThrottling","clearTimeout","window","setTimeout","value","onMounted","watch","val"],"sources":["../../../../../packages/hooks/use-throttle-render/index.ts"],"sourcesContent":["import { onMounted, ref, watch } from 'vue'\n\nimport type { Ref } from 'vue'\n\nexport const useThrottleRender = (loading: Ref<boolean>, throttle = 0) => {\n  if (throttle === 0) return loading\n  const throttled = ref(false)\n  let timeoutHandle = 0\n\n  const dispatchThrottling = () => {\n    if (timeoutHandle) {\n      clearTimeout(timeoutHandle)\n    }\n    timeoutHandle = window.setTimeout(() => {\n      throttled.value = loading.value\n    }, throttle)\n  }\n  onMounted(dispatchThrottling)\n\n  watch(\n    () => loading.value,\n    (val) => {\n      if (val) {\n        dispatchThrottling()\n      } else {\n        throttled.value = val\n      }\n    }\n  )\n  return throttled\n}\n"],"mappings":";MAIaA,iBAAA,GAAoBA,CAACC,OAAA,EAAuBC,QAAA,GAAW,MAAM;EACxE,IAAIA,QAAA,KAAa,GAAG,OAAOD,OAAA;EAC3B,MAAME,SAAA,GAAYC,GAAA,CAAI;EACtB,IAAIC,aAAA,GAAgB;EAEpB,MAAMC,kBAAA,GAAqBA,CAAA,KAAM;IAC/B,IAAID,aAAA,EAAe;MACjBE,YAAA,CAAaF,aAAA;IAAA;IAEfA,aAAA,GAAgBG,MAAA,CAAOC,UAAA,CAAW,MAAM;MACtCN,SAAA,CAAUO,KAAA,GAAQT,OAAA,CAAQS,KAAA;IAAA,GACzBR,QAAA;EAAA;EAELS,SAAA,CAAUL,kBAAA;EAEVM,KAAA,CACE,MAAMX,OAAA,CAAQS,KAAA,EACbG,GAAA,IAAQ;IACP,IAAIA,GAAA,EAAK;MACPP,kBAAA;IAAA,OACK;MACLH,SAAA,CAAUO,KAAA,GAAQG,GAAA;IAAA;EAAA;EAIxB,OAAOV,SAAA;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}