{"ast":null,"code":"import { ref, watch } from 'vue';\nconst makeList = (total, method, methodFunc) => {\n  const arr = [];\n  const disabledArr = method && methodFunc();\n  for (let i = 0; i < total; i++) {\n    arr[i] = disabledArr ? disabledArr.includes(i) : false;\n  }\n  return arr;\n};\nconst makeAvailableArr = list => {\n  return list.map((_, index) => !_ ? index : _).filter(_ => _ !== true);\n};\nconst getTimeLists = (disabledHours, disabledMinutes, disabledSeconds) => {\n  const getHoursList = (role, compare) => {\n    return makeList(24, disabledHours, () => disabledHours(role, compare));\n  };\n  const getMinutesList = (hour, role, compare) => {\n    return makeList(60, disabledMinutes, () => disabledMinutes(hour, role, compare));\n  };\n  const getSecondsList = (hour, minute, role, compare) => {\n    return makeList(60, disabledSeconds, () => disabledSeconds(hour, minute, role, compare));\n  };\n  return {\n    getHoursList,\n    getMinutesList,\n    getSecondsList\n  };\n};\nconst getAvailableArrs = (disabledHours, disabledMinutes, disabledSeconds) => {\n  const {\n    getHoursList,\n    getMinutesList,\n    getSecondsList\n  } = getTimeLists(disabledHours, disabledMinutes, disabledSeconds);\n  const getAvailableHours = (role, compare) => {\n    return makeAvailableArr(getHoursList(role, compare));\n  };\n  const getAvailableMinutes = (hour, role, compare) => {\n    return makeAvailableArr(getMinutesList(hour, role, compare));\n  };\n  const getAvailableSeconds = (hour, minute, role, compare) => {\n    return makeAvailableArr(getSecondsList(hour, minute, role, compare));\n  };\n  return {\n    getAvailableHours,\n    getAvailableMinutes,\n    getAvailableSeconds\n  };\n};\nconst useOldValue = props => {\n  const oldValue = ref(props.parsedValue);\n  watch(() => props.visible, val => {\n    if (!val) {\n      oldValue.value = props.parsedValue;\n    }\n  });\n  return oldValue;\n};\nexport { getAvailableArrs, getTimeLists, useOldValue };","map":{"version":3,"names":["makeList","total","method","methodFunc","arr","disabledArr","i","includes","makeAvailableArr","list","map","_","index","filter","getTimeLists","disabledHours","disabledMinutes","disabledSeconds","getHoursList","role","compare","getMinutesList","hour","getSecondsList","minute","getAvailableArrs","getAvailableHours","getAvailableMinutes","getAvailableSeconds","useOldValue","props","oldValue","ref","parsedValue","watch","visible","val","value"],"sources":["../../../../../../../packages/components/time-picker/src/time-picker-com/useTimePicker.ts"],"sourcesContent":["import { ref, watch } from 'vue'\n\nimport type { Dayjs } from 'dayjs'\n\nconst makeList = (total, method, methodFunc) => {\n  const arr = []\n  const disabledArr = method && methodFunc()\n  for (let i = 0; i < total; i++) {\n    arr[i] = disabledArr ? disabledArr.includes(i) : false\n  }\n  return arr\n}\n\nconst makeAvailableArr = (list) => {\n  return list.map((_, index) => (!_ ? index : _)).filter((_) => _ !== true)\n}\n\nexport const getTimeLists = (\n  disabledHours,\n  disabledMinutes,\n  disabledSeconds\n) => {\n  const getHoursList = (role, compare?) => {\n    return makeList(24, disabledHours, () => disabledHours(role, compare))\n  }\n\n  const getMinutesList = (hour, role, compare?) => {\n    return makeList(60, disabledMinutes, () =>\n      disabledMinutes(hour, role, compare)\n    )\n  }\n\n  const getSecondsList = (hour, minute, role, compare?) => {\n    return makeList(60, disabledSeconds, () =>\n      disabledSeconds(hour, minute, role, compare)\n    )\n  }\n\n  return {\n    getHoursList,\n    getMinutesList,\n    getSecondsList,\n  }\n}\n\nexport const getAvailableArrs = (\n  disabledHours,\n  disabledMinutes,\n  disabledSeconds\n) => {\n  const { getHoursList, getMinutesList, getSecondsList } = getTimeLists(\n    disabledHours,\n    disabledMinutes,\n    disabledSeconds\n  )\n\n  const getAvailableHours = (role, compare?) => {\n    return makeAvailableArr(getHoursList(role, compare))\n  }\n\n  const getAvailableMinutes = (hour, role, compare?) => {\n    return makeAvailableArr(getMinutesList(hour, role, compare))\n  }\n\n  const getAvailableSeconds = (hour, minute, role, compare?) => {\n    return makeAvailableArr(getSecondsList(hour, minute, role, compare))\n  }\n\n  return {\n    getAvailableHours,\n    getAvailableMinutes,\n    getAvailableSeconds,\n  }\n}\n\nexport const useOldValue = (props: {\n  parsedValue?: string | Dayjs | Dayjs[]\n  visible: boolean\n}) => {\n  const oldValue = ref(props.parsedValue)\n\n  watch(\n    () => props.visible,\n    (val) => {\n      if (!val) {\n        oldValue.value = props.parsedValue\n      }\n    }\n  )\n\n  return oldValue\n}\n"],"mappings":";AAIA,MAAMA,QAAA,GAAWA,CAACC,KAAA,EAAOC,MAAA,EAAQC,UAAA,KAAe;EAC9C,MAAMC,GAAA,GAAM;EACZ,MAAMC,WAAA,GAAcH,MAAA,IAAUC,UAAA;EAC9B,SAASG,CAAA,GAAI,GAAGA,CAAA,GAAIL,KAAA,EAAOK,CAAA,IAAK;IAC9BF,GAAA,CAAIE,CAAA,IAAKD,WAAA,GAAcA,WAAA,CAAYE,QAAA,CAASD,CAAA,IAAK;EAAA;EAEnD,OAAOF,GAAA;AAAA;AAGT,MAAMI,gBAAA,GAAoBC,IAAA,IAAS;EACjC,OAAOA,IAAA,CAAKC,GAAA,CAAI,CAACC,CAAA,EAAGC,KAAA,KAAW,CAACD,CAAA,GAAIC,KAAA,GAAQD,CAAA,EAAIE,MAAA,CAAQF,CAAA,IAAMA,CAAA,KAAM;AAAA;MAGzDG,YAAA,GAAeA,CAC1BC,aAAA,EACAC,eAAA,EACAC,eAAA,KACG;EACH,MAAMC,YAAA,GAAeA,CAACC,IAAA,EAAMC,OAAA,KAAa;IACvC,OAAOpB,QAAA,CAAS,IAAIe,aAAA,EAAe,MAAMA,aAAA,CAAcI,IAAA,EAAMC,OAAA;EAAA;EAG/D,MAAMC,cAAA,GAAiBA,CAACC,IAAA,EAAMH,IAAA,EAAMC,OAAA,KAAa;IAC/C,OAAOpB,QAAA,CAAS,IAAIgB,eAAA,EAAiB,MACnCA,eAAA,CAAgBM,IAAA,EAAMH,IAAA,EAAMC,OAAA;EAAA;EAIhC,MAAMG,cAAA,GAAiBA,CAACD,IAAA,EAAME,MAAA,EAAQL,IAAA,EAAMC,OAAA,KAAa;IACvD,OAAOpB,QAAA,CAAS,IAAIiB,eAAA,EAAiB,MACnCA,eAAA,CAAgBK,IAAA,EAAME,MAAA,EAAQL,IAAA,EAAMC,OAAA;EAAA;EAIxC,OAAO;IACLF,YAAA;IACAG,cAAA;IACAE;EAAA;AAAA;MAISE,gBAAA,GAAmBA,CAC9BV,aAAA,EACAC,eAAA,EACAC,eAAA,KACG;EACH,MAAM;IAAEC,YAAA;IAAcG,cAAA;IAAgBE;EAAA,IAAmBT,YAAA,CACvDC,aAAA,EACAC,eAAA,EACAC,eAAA;EAGF,MAAMS,iBAAA,GAAoBA,CAACP,IAAA,EAAMC,OAAA,KAAa;IAC5C,OAAOZ,gBAAA,CAAiBU,YAAA,CAAaC,IAAA,EAAMC,OAAA;EAAA;EAG7C,MAAMO,mBAAA,GAAsBA,CAACL,IAAA,EAAMH,IAAA,EAAMC,OAAA,KAAa;IACpD,OAAOZ,gBAAA,CAAiBa,cAAA,CAAeC,IAAA,EAAMH,IAAA,EAAMC,OAAA;EAAA;EAGrD,MAAMQ,mBAAA,GAAsBA,CAACN,IAAA,EAAME,MAAA,EAAQL,IAAA,EAAMC,OAAA,KAAa;IAC5D,OAAOZ,gBAAA,CAAiBe,cAAA,CAAeD,IAAA,EAAME,MAAA,EAAQL,IAAA,EAAMC,OAAA;EAAA;EAG7D,OAAO;IACLM,iBAAA;IACAC,mBAAA;IACAC;EAAA;AAAA;MAISC,WAAA,GAAeC,KAAA,IAGtB;EACJ,MAAMC,QAAA,GAAWC,GAAA,CAAIF,KAAA,CAAMG,WAAA;EAE3BC,KAAA,CACE,MAAMJ,KAAA,CAAMK,OAAA,EACXC,GAAA,IAAQ;IACP,IAAI,CAACA,GAAA,EAAK;MACRL,QAAA,CAASM,KAAA,GAAQP,KAAA,CAAMG,WAAA;IAAA;EAAA;EAK7B,OAAOF,QAAA;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}