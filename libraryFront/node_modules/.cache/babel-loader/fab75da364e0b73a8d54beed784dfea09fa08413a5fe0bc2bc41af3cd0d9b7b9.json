{"ast":null,"code":"import { resolveComponent, openBlock, createBlock, TransitionGroup, normalizeClass, withCtx, createElementBlock, Fragment, renderList, withKeys, renderSlot, createCommentVNode, createElementVNode, createVNode, createTextVNode, toDisplayString } from 'vue';\nconst _hoisted_1 = [\"onKeydown\"];\nconst _hoisted_2 = [\"src\"];\nconst _hoisted_3 = [\"onClick\"];\nconst _hoisted_4 = {\n  class: \"el-upload-list__item-status-label\"\n};\nconst _hoisted_5 = {\n  key: 2,\n  class: \"el-icon--close-tip\"\n};\nconst _hoisted_6 = {\n  key: 4,\n  class: \"el-upload-list__item-actions\"\n};\nconst _hoisted_7 = [\"onClick\"];\nconst _hoisted_8 = [\"onClick\"];\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_document = resolveComponent(\"document\");\n  const _component_el_icon = resolveComponent(\"el-icon\");\n  const _component_circle_check = resolveComponent(\"circle-check\");\n  const _component_check = resolveComponent(\"check\");\n  const _component_close = resolveComponent(\"close\");\n  const _component_el_progress = resolveComponent(\"el-progress\");\n  const _component_zoom_in = resolveComponent(\"zoom-in\");\n  const _component_delete = resolveComponent(\"delete\");\n  return openBlock(), createBlock(TransitionGroup, {\n    tag: \"ul\",\n    class: normalizeClass([\"el-upload-list\", \"el-upload-list--\" + _ctx.listType, {\n      \"is-disabled\": _ctx.disabled\n    }]),\n    name: \"el-list\"\n  }, {\n    default: withCtx(() => [(openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.files, file => {\n      return openBlock(), createElementBlock(\"li\", {\n        key: file.uid || file,\n        class: normalizeClass([\"el-upload-list__item\", \"is-\" + file.status, _ctx.focusing ? \"focusing\" : \"\"]),\n        tabindex: \"0\",\n        onKeydown: withKeys($event => !_ctx.disabled && _ctx.handleRemove($event, file), [\"delete\"]),\n        onFocus: _cache[0] || (_cache[0] = $event => _ctx.focusing = true),\n        onBlur: _cache[1] || (_cache[1] = $event => _ctx.focusing = false),\n        onClick: _cache[2] || (_cache[2] = (...args) => _ctx.onFileClicked && _ctx.onFileClicked(...args))\n      }, [renderSlot(_ctx.$slots, \"default\", {\n        file\n      }, () => [file.status !== \"uploading\" && [\"picture-card\", \"picture\"].includes(_ctx.listType) ? (openBlock(), createElementBlock(\"img\", {\n        key: 0,\n        class: \"el-upload-list__item-thumbnail\",\n        src: file.url,\n        alt: \"\"\n      }, null, 8, _hoisted_2)) : createCommentVNode(\"v-if\", true), createElementVNode(\"a\", {\n        class: \"el-upload-list__item-name\",\n        onClick: $event => _ctx.handleClick(file)\n      }, [createVNode(_component_el_icon, {\n        class: \"el-icon--document\"\n      }, {\n        default: withCtx(() => [createVNode(_component_document)]),\n        _: 1\n      }), createTextVNode(\" \" + toDisplayString(file.name), 1)], 8, _hoisted_3), createElementVNode(\"label\", _hoisted_4, [_ctx.listType === \"text\" ? (openBlock(), createBlock(_component_el_icon, {\n        key: 0,\n        class: \"el-icon--upload-success el-icon--circle-check\"\n      }, {\n        default: withCtx(() => [createVNode(_component_circle_check)]),\n        _: 1\n      })) : [\"picture-card\", \"picture\"].includes(_ctx.listType) ? (openBlock(), createBlock(_component_el_icon, {\n        key: 1,\n        class: \"el-icon--upload-success el-icon--check\"\n      }, {\n        default: withCtx(() => [createVNode(_component_check)]),\n        _: 1\n      })) : createCommentVNode(\"v-if\", true)]), !_ctx.disabled ? (openBlock(), createBlock(_component_el_icon, {\n        key: 1,\n        class: \"el-icon--close\",\n        onClick: $event => _ctx.handleRemove($event, file)\n      }, {\n        default: withCtx(() => [createVNode(_component_close)]),\n        _: 2\n      }, 1032, [\"onClick\"])) : createCommentVNode(\"v-if\", true), createCommentVNode(\" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn\"), createCommentVNode(\" This is a bug which needs to be fixed \"), createCommentVNode(\" TODO: Fix the incorrect navigation interaction \"), !_ctx.disabled ? (openBlock(), createElementBlock(\"i\", _hoisted_5, toDisplayString(_ctx.t(\"el.upload.deleteTip\")), 1)) : createCommentVNode(\"v-if\", true), file.status === \"uploading\" ? (openBlock(), createBlock(_component_el_progress, {\n        key: 3,\n        type: _ctx.listType === \"picture-card\" ? \"circle\" : \"line\",\n        \"stroke-width\": _ctx.listType === \"picture-card\" ? 6 : 2,\n        percentage: +file.percentage\n      }, null, 8, [\"type\", \"stroke-width\", \"percentage\"])) : createCommentVNode(\"v-if\", true), _ctx.listType === \"picture-card\" ? (openBlock(), createElementBlock(\"span\", _hoisted_6, [createElementVNode(\"span\", {\n        class: \"el-upload-list__item-preview\",\n        onClick: $event => _ctx.handlePreview(file)\n      }, [createVNode(_component_el_icon, {\n        class: \"el-icon--zoom-in\"\n      }, {\n        default: withCtx(() => [createVNode(_component_zoom_in)]),\n        _: 1\n      })], 8, _hoisted_7), !_ctx.disabled ? (openBlock(), createElementBlock(\"span\", {\n        key: 0,\n        class: \"el-upload-list__item-delete\",\n        onClick: $event => _ctx.handleRemove($event, file)\n      }, [createVNode(_component_el_icon, {\n        class: \"el-icon--delete\"\n      }, {\n        default: withCtx(() => [createVNode(_component_delete)]),\n        _: 1\n      })], 8, _hoisted_8)) : createCommentVNode(\"v-if\", true)])) : createCommentVNode(\"v-if\", true)])], 42, _hoisted_1);\n    }), 128))]),\n    _: 3\n  }, 8, [\"class\"]);\n}\nexport { render };","map":{"version":3,"names":["class","createBlock","TransitionGroup","tag","normalizeClass","name","createElementBlock","Fragment","renderList","_ctx","files","file","key","uid","tabindex","onKeydown","withKeys","$event","disabled","handleRemove","onFocus","_cache","focusing","onBlur","onClick","args","onFileClicked","renderSlot","$slots","src","url","alt","_hoisted_2","createCommentVNode","createElementVNode","handleClick","createVNode","_component_el_icon","_component_document","_","_hoisted_4","listType","openBlock","_component_circle_check","includes","_component_check","_component_close","_hoisted_5","toDisplayString","t","status","_component_el_progress","type","percentage","_hoisted_6","handlePreview","_component_zoom_in","_component_delete"],"sources":["../../../../../../packages/components/upload/src/upload-list.vue?vue&type=template&id=192277b6&lang.js"],"sourcesContent":["<template>\n  <transition-group\n    tag=\"ul\"\n    :class=\"[\n      'el-upload-list',\n      'el-upload-list--' + listType,\n      { 'is-disabled': disabled },\n    ]\"\n    name=\"el-list\"\n  >\n    <li\n      v-for=\"file in files\"\n      :key=\"file.uid || file\"\n      :class=\"[\n        'el-upload-list__item',\n        'is-' + file.status,\n        focusing ? 'focusing' : '',\n      ]\"\n      tabindex=\"0\"\n      @keydown.delete=\"!disabled && handleRemove($event, file)\"\n      @focus=\"focusing = true\"\n      @blur=\"focusing = false\"\n      @click=\"onFileClicked\"\n    >\n      <slot :file=\"file\">\n        <img\n          v-if=\"\n            file.status !== 'uploading' &&\n            ['picture-card', 'picture'].includes(listType)\n          \"\n          class=\"el-upload-list__item-thumbnail\"\n          :src=\"file.url\"\n          alt=\"\"\n        />\n        <a class=\"el-upload-list__item-name\" @click=\"handleClick(file)\">\n          <el-icon class=\"el-icon--document\"><document /></el-icon>\n          {{ file.name }}\n        </a>\n        <label class=\"el-upload-list__item-status-label\">\n          <el-icon\n            v-if=\"listType === 'text'\"\n            class=\"el-icon--upload-success el-icon--circle-check\"\n          >\n            <circle-check />\n          </el-icon>\n          <el-icon\n            v-else-if=\"['picture-card', 'picture'].includes(listType)\"\n            class=\"el-icon--upload-success el-icon--check\"\n          >\n            <check />\n          </el-icon>\n        </label>\n        <el-icon\n          v-if=\"!disabled\"\n          class=\"el-icon--close\"\n          @click=\"handleRemove($event, file)\"\n        >\n          <close />\n        </el-icon>\n        <!-- Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn-->\n        <!-- This is a bug which needs to be fixed -->\n        <!-- TODO: Fix the incorrect navigation interaction -->\n        <i v-if=\"!disabled\" class=\"el-icon--close-tip\">{{\n          t('el.upload.deleteTip')\n        }}</i>\n        <el-progress\n          v-if=\"file.status === 'uploading'\"\n          :type=\"listType === 'picture-card' ? 'circle' : 'line'\"\n          :stroke-width=\"listType === 'picture-card' ? 6 : 2\"\n          :percentage=\"+file.percentage\"\n        />\n        <span\n          v-if=\"listType === 'picture-card'\"\n          class=\"el-upload-list__item-actions\"\n        >\n          <span\n            class=\"el-upload-list__item-preview\"\n            @click=\"handlePreview(file)\"\n          >\n            <el-icon class=\"el-icon--zoom-in\"><zoom-in /></el-icon>\n          </span>\n          <span\n            v-if=\"!disabled\"\n            class=\"el-upload-list__item-delete\"\n            @click=\"handleRemove($event, file)\"\n          >\n            <el-icon class=\"el-icon--delete\"><delete /></el-icon>\n          </span>\n        </span>\n      </slot>\n    </li>\n  </transition-group>\n</template>\n<script lang=\"ts\">\nimport { defineComponent, ref } from 'vue'\nimport { NOOP } from '@vue/shared'\nimport { ElIcon } from '@element-plus/components/icon'\nimport {\n  Document,\n  Delete,\n  Close,\n  ZoomIn,\n  Check,\n  CircleCheck,\n} from '@element-plus/icons-vue'\nimport { useLocale } from '@element-plus/hooks'\nimport ElProgress from '@element-plus/components/progress'\n\nimport type { PropType } from 'vue'\nimport type { UploadFile } from './upload.type'\n\nexport default defineComponent({\n  name: 'ElUploadList',\n  components: {\n    ElProgress,\n    ElIcon,\n    Document,\n    Delete,\n    Close,\n    ZoomIn,\n    Check,\n    CircleCheck,\n  },\n  props: {\n    files: {\n      type: Array as PropType<UploadFile[]>,\n      default: () => [] as File[],\n    },\n    disabled: {\n      type: Boolean,\n      default: false,\n    },\n    handlePreview: {\n      type: Function as PropType<(file: UploadFile) => void>,\n      default: () => NOOP,\n    },\n    listType: {\n      type: String as PropType<'picture' | 'picture-card' | 'text'>,\n      default: 'text',\n    },\n  },\n  emits: ['remove'],\n  setup(props, { emit }) {\n    const { t } = useLocale()\n\n    const handleClick = (file: UploadFile) => {\n      props.handlePreview(file)\n    }\n\n    const onFileClicked = (e: Event) => {\n      ;(e.target as HTMLElement).focus()\n    }\n\n    const handleRemove = (e: Event, file: UploadFile) => {\n      emit('remove', file)\n    }\n    return {\n      focusing: ref(false),\n      handleClick,\n      handleRemove,\n      onFileClicked,\n      t,\n    }\n  },\n})\n</script>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}