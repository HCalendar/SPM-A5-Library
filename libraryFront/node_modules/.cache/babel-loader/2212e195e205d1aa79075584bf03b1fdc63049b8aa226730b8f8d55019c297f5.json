{"ast":null,"code":"import { resolveComponent, openBlock, createElementBlock, withKeys, normalizeClass, createCommentVNode, createBlock, Fragment, renderList, toDisplayString } from 'vue';\nconst _hoisted_1 = [\"aria-current\"];\nconst _hoisted_2 = [\"aria-current\"];\nconst _hoisted_3 = [\"aria-current\"];\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_d_arrow_left = resolveComponent(\"d-arrow-left\");\n  const _component_more_filled = resolveComponent(\"more-filled\");\n  const _component_d_arrow_right = resolveComponent(\"d-arrow-right\");\n  return openBlock(), createElementBlock(\"ul\", {\n    class: \"el-pager\",\n    onClick: _cache[4] || (_cache[4] = (...args) => _ctx.onPagerClick && _ctx.onPagerClick(...args)),\n    onKeyup: _cache[5] || (_cache[5] = withKeys((...args) => _ctx.onEnter && _ctx.onEnter(...args), [\"enter\"]))\n  }, [_ctx.pageCount > 0 ? (openBlock(), createElementBlock(\"li\", {\n    key: 0,\n    class: normalizeClass([{\n      active: _ctx.currentPage === 1,\n      disabled: _ctx.disabled\n    }, \"number\"]),\n    \"aria-current\": _ctx.currentPage === 1,\n    tabindex: \"0\"\n  }, \" 1 \", 10, _hoisted_1)) : createCommentVNode(\"v-if\", true), _ctx.showPrevMore ? (openBlock(), createElementBlock(\"li\", {\n    key: 1,\n    class: normalizeClass([\"el-icon more btn-quickprev\", {\n      disabled: _ctx.disabled\n    }]),\n    onMouseenter: _cache[0] || (_cache[0] = $event => _ctx.onMouseenter(\"left\")),\n    onMouseleave: _cache[1] || (_cache[1] = $event => _ctx.quickPrevHover = false)\n  }, [_ctx.quickPrevHover ? (openBlock(), createBlock(_component_d_arrow_left, {\n    key: 0\n  })) : (openBlock(), createBlock(_component_more_filled, {\n    key: 1\n  }))], 34)) : createCommentVNode(\"v-if\", true), (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.pagers, pager => {\n    return openBlock(), createElementBlock(\"li\", {\n      key: pager,\n      class: normalizeClass([{\n        active: _ctx.currentPage === pager,\n        disabled: _ctx.disabled\n      }, \"number\"]),\n      \"aria-current\": _ctx.currentPage === pager,\n      tabindex: \"0\"\n    }, toDisplayString(pager), 11, _hoisted_2);\n  }), 128)), _ctx.showNextMore ? (openBlock(), createElementBlock(\"li\", {\n    key: 2,\n    class: normalizeClass([\"el-icon more btn-quicknext\", {\n      disabled: _ctx.disabled\n    }]),\n    onMouseenter: _cache[2] || (_cache[2] = $event => _ctx.onMouseenter(\"right\")),\n    onMouseleave: _cache[3] || (_cache[3] = $event => _ctx.quickNextHover = false)\n  }, [_ctx.quickNextHover ? (openBlock(), createBlock(_component_d_arrow_right, {\n    key: 0\n  })) : (openBlock(), createBlock(_component_more_filled, {\n    key: 1\n  }))], 34)) : createCommentVNode(\"v-if\", true), _ctx.pageCount > 1 ? (openBlock(), createElementBlock(\"li\", {\n    key: 3,\n    class: normalizeClass([{\n      active: _ctx.currentPage === _ctx.pageCount,\n      disabled: _ctx.disabled\n    }, \"number\"]),\n    \"aria-current\": _ctx.currentPage === _ctx.pageCount,\n    tabindex: \"0\"\n  }, toDisplayString(_ctx.pageCount), 11, _hoisted_3)) : createCommentVNode(\"v-if\", true)], 32);\n}\nexport { render };","map":{"version":3,"names":["createElementBlock","class","onClick","_cache","args","_ctx","onPagerClick","onKeyup","withKeys","onEnter","pageCount","openBlock","normalizeClass","active","currentPage","disabled","tabindex","_hoisted_1","createCommentVNode","showPrevMore","onMouseenter","$event","onMouseleave","quickPrevHover","createBlock","_component_d_arrow_left","key","_component_more_filled","Fragment","renderList","pagers","pager","toDisplayString","_hoisted_2","showNextMore","quickNextHover","_component_d_arrow_right","_hoisted_3"],"sources":["../../../../../../../packages/components/pagination/src/components/pager.vue?vue&type=template&id=0bfc9916&lang.js"],"sourcesContent":["<template>\n  <ul class=\"el-pager\" @click=\"onPagerClick\" @keyup.enter=\"onEnter\">\n    <li\n      v-if=\"pageCount > 0\"\n      :class=\"{ active: currentPage === 1, disabled }\"\n      class=\"number\"\n      :aria-current=\"currentPage === 1\"\n      tabindex=\"0\"\n    >\n      1\n    </li>\n    <li\n      v-if=\"showPrevMore\"\n      class=\"el-icon more btn-quickprev\"\n      :class=\"{ disabled }\"\n      @mouseenter=\"onMouseenter('left')\"\n      @mouseleave=\"quickPrevHover = false\"\n    >\n      <d-arrow-left v-if=\"quickPrevHover\" />\n      <more-filled v-else />\n    </li>\n    <li\n      v-for=\"pager in pagers\"\n      :key=\"pager\"\n      :class=\"{ active: currentPage === pager, disabled }\"\n      class=\"number\"\n      :aria-current=\"currentPage === pager\"\n      tabindex=\"0\"\n    >\n      {{ pager }}\n    </li>\n    <li\n      v-if=\"showNextMore\"\n      class=\"el-icon more btn-quicknext\"\n      :class=\"{ disabled }\"\n      @mouseenter=\"onMouseenter('right')\"\n      @mouseleave=\"quickNextHover = false\"\n    >\n      <d-arrow-right v-if=\"quickNextHover\" />\n      <more-filled v-else />\n    </li>\n    <li\n      v-if=\"pageCount > 1\"\n      :class=\"{ active: currentPage === pageCount, disabled }\"\n      class=\"number\"\n      :aria-current=\"currentPage === pageCount\"\n      tabindex=\"0\"\n    >\n      {{ pageCount }}\n    </li>\n  </ul>\n</template>\n<script lang=\"ts\">\nimport { defineComponent, ref, computed, watchEffect } from 'vue'\nimport { MoreFilled, DArrowLeft, DArrowRight } from '@element-plus/icons-vue'\n\nconst paginationPagerProps = {\n  currentPage: {\n    type: Number,\n    default: 1,\n  },\n  pageCount: {\n    type: Number,\n    required: true,\n  },\n  pagerCount: {\n    type: Number,\n    default: 7,\n  },\n  disabled: Boolean,\n} as const\n\nexport default defineComponent({\n  name: 'ElPaginationPager',\n\n  components: {\n    DArrowLeft,\n    DArrowRight,\n    MoreFilled,\n  },\n  props: paginationPagerProps,\n  emits: ['change'],\n\n  setup(props, { emit }) {\n    const showPrevMore = ref(false)\n    const showNextMore = ref(false)\n    const quickPrevHover = ref(false)\n    const quickNextHover = ref(false)\n\n    const pagers = computed(() => {\n      const pagerCount = props.pagerCount\n      const halfPagerCount = (pagerCount - 1) / 2\n      const currentPage = Number(props.currentPage)\n      const pageCount = Number(props.pageCount)\n\n      let showPrevMore = false\n      let showNextMore = false\n      if (pageCount > pagerCount) {\n        if (currentPage > pagerCount - halfPagerCount) {\n          showPrevMore = true\n        }\n        if (currentPage < pageCount - halfPagerCount) {\n          showNextMore = true\n        }\n      }\n      const array: number[] = []\n      if (showPrevMore && !showNextMore) {\n        const startPage = pageCount - (pagerCount - 2)\n        for (let i = startPage; i < pageCount; i++) {\n          array.push(i)\n        }\n      } else if (!showPrevMore && showNextMore) {\n        for (let i = 2; i < pagerCount; i++) {\n          array.push(i)\n        }\n      } else if (showPrevMore && showNextMore) {\n        const offset = Math.floor(pagerCount / 2) - 1\n        for (let i = currentPage - offset; i <= currentPage + offset; i++) {\n          array.push(i)\n        }\n      } else {\n        for (let i = 2; i < pageCount; i++) {\n          array.push(i)\n        }\n      }\n\n      return array\n    })\n\n    watchEffect(() => {\n      const halfPagerCount = (props.pagerCount - 1) / 2\n\n      showPrevMore.value = false\n      showNextMore.value = false\n\n      if (props.pageCount > props.pagerCount) {\n        if (props.currentPage > props.pagerCount - halfPagerCount) {\n          showPrevMore.value = true\n        }\n        if (props.currentPage < props.pageCount - halfPagerCount) {\n          showNextMore.value = true\n        }\n      }\n    })\n\n    function onMouseenter(direction: 'left' | 'right') {\n      if (props.disabled) return\n      if (direction === 'left') {\n        quickPrevHover.value = true\n      } else {\n        quickNextHover.value = true\n      }\n    }\n\n    function onEnter(e: UIEvent) {\n      const target = e.target as HTMLElement\n      if (\n        target.tagName.toLowerCase() === 'li' &&\n        Array.from(target.classList).includes('number')\n      ) {\n        const newPage = Number(target.textContent)\n        if (newPage !== props.currentPage) {\n          emit('change', newPage)\n        }\n      }\n    }\n\n    function onPagerClick(event: UIEvent) {\n      const target = event.target as HTMLElement\n      if (target.tagName.toLowerCase() === 'ul' || props.disabled) {\n        return\n      }\n\n      let newPage = Number(target.textContent)\n      const pageCount = props.pageCount\n      const currentPage = props.currentPage\n      const pagerCountOffset = props.pagerCount - 2\n      if (target.className.includes('more')) {\n        if (target.className.includes('quickprev')) {\n          newPage = currentPage - pagerCountOffset\n        } else if (target.className.includes('quicknext')) {\n          newPage = currentPage + pagerCountOffset\n        }\n      }\n      if (!isNaN(newPage)) {\n        if (newPage < 1) {\n          newPage = 1\n        }\n        if (newPage > pageCount) {\n          newPage = pageCount\n        }\n      }\n      if (newPage !== currentPage) {\n        emit('change', newPage)\n      }\n    }\n\n    return {\n      showPrevMore,\n      showNextMore,\n      quickPrevHover,\n      quickNextHover,\n      pagers,\n\n      onMouseenter,\n      onPagerClick,\n      onEnter,\n    }\n  },\n})\n</script>\n"],"mappings":";;;;;;;;sBACEA,kBAAA;IAAIC,KAAA,EAAM;IAAYC,OAAA,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAOC,IAAA,CAAAC,YAAA,IAAAD,IAAA,CAAAC,YAAA,IAAAF,IAAA;IAAeG,OAAA,EAAAJ,MAAA,QAAAA,MAAA,MAAAK,QAAA,KAAAJ,IAAA,KAAaC,IAAA,CAAAI,OAAA,IAAAJ,IAAA,CAAAI,OAAA,IAAAL,IAAA;MAE/CC,IAAA,CAAAK,SAAA,QAAAC,SAAA,IADRX,kBAAA;;IAEGC,KAAA,EAAAW,cAAA;MAAAC,MAAA,EAAiBR,IAAA,CAAAS,WAAA;MAAAC,QAAA,EAAmBV,IAAA,CAAAU;IAAA,GAC/B;IACL,gBAAcV,IAAA,CAAAS,WAAA;IACfE,QAAA,EAAS;EAAA,cAAAC,UAAA,KAAAC,kBAAA,gBAKHb,IAAA,CAAAc,YAAA,IAAAR,SAAA,IADRX,kBAAA;;IAEEC,KAAA,EAAAW,cAAA,EAAM;MAAAG,QAAA,EACIV,IAAA,CAAAU;IAAA;IACTK,YAAA,EAAAjB,MAAA,QAAAA,MAAA,MAAAkB,MAAA,IAAYhB,IAAA,CAAAe,YAAA;IACZE,YAAA,EAAAnB,MAAA,QAAAA,MAAA,MAAAkB,MAAA,IAAYhB,IAAA,CAAAkB,cAAA;MAEOlB,IAAA,CAAAkB,cAAA,IAAAZ,SAAA,IAApBa,WAAA,CAAAC,uBAAA;IAAAC,GAAA;EAAA,OAAAf,SAAA,IACAa,WAAA,CAAAG,sBAAA;IAAAD,GAAA;EAAA,I,6DAEF1B,kBAAA,CAAA4B,QAAA,QAAAC,UAAA,CACkBxB,IAAA,CAAAyB,MAAA,EAATC,KAAA;wBADT/B,kBAAA;MAEG0B,GAAA,EAAKK,KAAA;MACL9B,KAAA,EAAAW,cAAA;QAAAC,MAAA,EAAiBR,IAAA,CAAAS,WAAA,KAAgBiB,KAAA;QAAAhB,QAAA,EAAOV,IAAA,CAAAU;MAAA,GACnC;MACL,gBAAcV,IAAA,CAAAS,WAAA,KAAgBiB,KAAA;MAC/Bf,QAAA,EAAS;IAAA,GAAAgB,eAAA,CAEND,KAAA,OAAAE,UAAA;aAGG5B,IAAA,CAAA6B,YAAA,IAAAvB,SAAA,IADRX,kBAAA;;IAEEC,KAAA,EAAAW,cAAA,EAAM;MAAAG,QAAA,EACIV,IAAA,CAAAU;IAAA;IACTK,YAAA,EAAAjB,MAAA,QAAAA,MAAA,MAAAkB,MAAA,IAAYhB,IAAA,CAAAe,YAAA;IACZE,YAAA,EAAAnB,MAAA,QAAAA,MAAA,MAAAkB,MAAA,IAAYhB,IAAA,CAAA8B,cAAA;MAEQ9B,IAAA,CAAA8B,cAAA,IAAAxB,SAAA,IAArBa,WAAA,CAAAY,wBAAA;IAAAV,GAAA;EAAA,OAAAf,SAAA,IACAa,WAAA,CAAAG,sBAAA;IAAAD,GAAA;EAAA,I,2CAGMrB,IAAA,CAAAK,SAAA,QAAAC,SAAA,IADRX,kBAAA;;IAEGC,KAAA,EAAAW,cAAA;MAAAC,MAAA,EAAiBR,IAAA,CAAAS,WAAA,KAAgBT,IAAA,CAAAK,SAAA;MAAAK,QAAA,EAAWV,IAAA,CAAAU;IAAA,GACvC;IACL,gBAAcV,IAAA,CAAAS,WAAA,KAAgBT,IAAA,CAAAK,SAAA;IAC/BM,QAAA,EAAS;EAAA,GAAAgB,eAAA,CAEN3B,IAAA,CAAAK,SAAA,OAAA2B,UAAA,KAAAnB,kBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}