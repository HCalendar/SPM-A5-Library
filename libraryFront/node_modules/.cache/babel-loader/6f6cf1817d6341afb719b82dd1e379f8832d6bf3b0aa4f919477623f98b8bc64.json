{"ast":null,"code":"import { computed } from 'vue';\nimport { debugWarn } from '../../../utils/error.mjs';\nconst useStops = (props, initData, minValue, maxValue) => {\n  const stops = computed(() => {\n    if (!props.showStops || props.min > props.max) return [];\n    if (props.step === 0) {\n      debugWarn(\"Slider\", \"step should not be 0.\");\n      return [];\n    }\n    const stopCount = (props.max - props.min) / props.step;\n    const stepWidth = 100 * props.step / (props.max - props.min);\n    const result = Array.from({\n      length: stopCount - 1\n    }).map((_, index) => (index + 1) * stepWidth);\n    if (props.range) {\n      return result.filter(step => {\n        return step < 100 * (minValue.value - props.min) / (props.max - props.min) || step > 100 * (maxValue.value - props.min) / (props.max - props.min);\n      });\n    } else {\n      return result.filter(step => step > 100 * (initData.firstValue - props.min) / (props.max - props.min));\n    }\n  });\n  const getStopStyle = position => {\n    return props.vertical ? {\n      bottom: `${position}%`\n    } : {\n      left: `${position}%`\n    };\n  };\n  return {\n    stops,\n    getStopStyle\n  };\n};\nexport { useStops };","map":{"version":3,"names":["useStops","props","initData","minValue","maxValue","stops","computed","showStops","min","max","step","debugWarn","stopCount","stepWidth","result","Array","from","length","map","_","index","range","filter","value","firstValue","getStopStyle","position","vertical","bottom","left"],"sources":["../../../../../../packages/components/slider/src/useStops.ts"],"sourcesContent":["import { computed } from 'vue'\nimport { debugWarn } from '@element-plus/utils/error'\nimport type { ComputedRef, CSSProperties } from 'vue'\nimport type { ISliderInitData, ISliderProps, Stops } from './slider.type'\n\nexport const useStops = (\n  props: ISliderProps,\n  initData: ISliderInitData,\n  minValue: ComputedRef<number>,\n  maxValue: ComputedRef<number>\n): Stops => {\n  const stops = computed(() => {\n    if (!props.showStops || props.min > props.max) return []\n    if (props.step === 0) {\n      debugWarn('Slider', 'step should not be 0.')\n      return []\n    }\n\n    const stopCount = (props.max - props.min) / props.step\n    const stepWidth = (100 * props.step) / (props.max - props.min)\n    const result = Array.from<number>({ length: stopCount - 1 }).map(\n      (_, index) => (index + 1) * stepWidth\n    )\n\n    if (props.range) {\n      return result.filter((step) => {\n        return (\n          step <\n            (100 * (minValue.value - props.min)) / (props.max - props.min) ||\n          step > (100 * (maxValue.value - props.min)) / (props.max - props.min)\n        )\n      })\n    } else {\n      return result.filter(\n        (step) =>\n          step >\n          (100 * (initData.firstValue - props.min)) / (props.max - props.min)\n      )\n    }\n  })\n\n  const getStopStyle = (position: number) => {\n    return (\n      props.vertical ? { bottom: `${position}%` } : { left: `${position}%` }\n    ) as CSSProperties\n  }\n\n  return {\n    stops,\n    getStopStyle,\n  }\n}\n"],"mappings":";;MAKaA,QAAA,GAAWA,CACtBC,KAAA,EACAC,QAAA,EACAC,QAAA,EACAC,QAAA,KACU;EACV,MAAMC,KAAA,GAAQC,QAAA,CAAS,MAAM;IAC3B,IAAI,CAACL,KAAA,CAAMM,SAAA,IAAaN,KAAA,CAAMO,GAAA,GAAMP,KAAA,CAAMQ,GAAA,EAAK,OAAO;IACtD,IAAIR,KAAA,CAAMS,IAAA,KAAS,GAAG;MACpBC,SAAA,CAAU,UAAU;MACpB,OAAO;IAAA;IAGT,MAAMC,SAAA,GAAa,CAAAX,KAAA,CAAMQ,GAAA,GAAMR,KAAA,CAAMO,GAAA,IAAOP,KAAA,CAAMS,IAAA;IAClD,MAAMG,SAAA,GAAa,MAAMZ,KAAA,CAAMS,IAAA,IAAAT,KAAA,CAAeQ,GAAA,GAAMR,KAAA,CAAMO,GAAA;IAC1D,MAAMM,MAAA,GAASC,KAAA,CAAMC,IAAA,CAAa;MAAEC,MAAA,EAAQL,SAAA,GAAY;IAAA,GAAKM,GAAA,CAC3D,CAACC,CAAA,EAAGC,KAAA,KAAW,CAAAA,KAAA,GAAQ,KAAKP,SAAA;IAG9B,IAAIZ,KAAA,CAAMoB,KAAA,EAAO;MACf,OAAOP,MAAA,CAAOQ,MAAA,CAAQZ,IAAA,IAAS;QAC7B,OACEA,IAAA,GACG,OAAAP,QAAA,CAAgBoB,KAAA,GAAQtB,KAAA,CAAMO,GAAA,KAAAP,KAAA,CAAeQ,GAAA,GAAMR,KAAA,CAAMO,GAAA,KAC5DE,IAAA,GAAQ,OAAAN,QAAA,CAAgBmB,KAAA,GAAQtB,KAAA,CAAMO,GAAA,KAAAP,KAAA,CAAeQ,GAAA,GAAMR,KAAA,CAAMO,GAAA;MAAA;IAAA,OAGhE;MACL,OAAOM,MAAA,CAAOQ,MAAA,CACXZ,IAAA,IACCA,IAAA,GACC,OAAAR,QAAA,CAAgBsB,UAAA,GAAavB,KAAA,CAAMO,GAAA,KAAAP,KAAA,CAAeQ,GAAA,GAAMR,KAAA,CAAMO,GAAA;IAAA;EAAA;EAKvE,MAAMiB,YAAA,GAAgBC,QAAA,IAAqB;IACzC,OACEzB,KAAA,CAAM0B,QAAA,GAAW;MAAEC,MAAA,EAAQ,GAAGF,QAAA;IAAA,IAAgB;MAAEG,IAAA,EAAM,GAAGH,QAAA;IAAA;EAAA;EAI7D,OAAO;IACLrB,KAAA;IACAoB;EAAA;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}