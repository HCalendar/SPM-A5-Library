{"ast":null,"code":"import { on } from '../../../utils/dom.mjs';\nconst attachEvents = (el, binding, vnode) => {\n  const _ref = binding.arg || binding.value;\n  const popover = vnode.dirs[0].instance.$refs[_ref];\n  if (popover) {\n    popover.triggerRef = el;\n    el.setAttribute(\"tabindex\", popover.tabindex);\n    Object.entries(popover.events).forEach(([eventName, e]) => {\n      on(el, eventName.toLowerCase().slice(2), e);\n    });\n  }\n};\nvar PopoverDirective = {\n  mounted(el, binding, vnode) {\n    attachEvents(el, binding, vnode);\n  },\n  updated(el, binding, vnode) {\n    attachEvents(el, binding, vnode);\n  }\n};\nconst VPopover = \"popover\";\nexport { VPopover, PopoverDirective as default };","map":{"version":3,"names":["attachEvents","el","binding","vnode","_ref","arg","value","popover","dirs","instance","$refs","triggerRef","setAttribute","tabindex","Object","entries","events","forEach","eventName","e","on","toLowerCase","slice","PopoverDirective","mounted","updated","VPopover"],"sources":["../../../../../../packages/components/popover/src/directive.ts"],"sourcesContent":["import { on } from '@element-plus/utils/dom'\n\nimport type { DirectiveBinding, VNode, ObjectDirective } from 'vue'\n\ninterface PopoverInstance {\n  events: Record<string, EventListenerOrEventListenerObject>\n  triggerRef: HTMLElement\n  tabindex: string | number\n}\n\nconst attachEvents = (\n  el: HTMLElement,\n  binding: DirectiveBinding,\n  vnode: VNode\n) => {\n  const _ref = binding.arg || binding.value\n  const popover = vnode.dirs[0].instance.$refs[_ref] as PopoverInstance\n  if (popover) {\n    popover.triggerRef = el\n    el.setAttribute('tabindex', popover.tabindex as string)\n    // because v-popover cannot modify the vnode itself due to it has already been\n    Object.entries(popover.events).forEach(([eventName, e]) => {\n      on(el, eventName.toLowerCase().slice(2), e)\n    })\n  }\n}\n\nexport default {\n  mounted(el, binding, vnode) {\n    attachEvents(el, binding, vnode)\n  },\n  updated(el, binding, vnode) {\n    attachEvents(el, binding, vnode)\n  },\n} as ObjectDirective\n\nexport const VPopover = 'popover'\n"],"mappings":";AAUA,MAAMA,YAAA,GAAeA,CACnBC,EAAA,EACAC,OAAA,EACAC,KAAA,KACG;EACH,MAAMC,IAAA,GAAOF,OAAA,CAAQG,GAAA,IAAOH,OAAA,CAAQI,KAAA;EACpC,MAAMC,OAAA,GAAUJ,KAAA,CAAMK,IAAA,CAAK,GAAGC,QAAA,CAASC,KAAA,CAAMN,IAAA;EAC7C,IAAIG,OAAA,EAAS;IACXA,OAAA,CAAQI,UAAA,GAAaV,EAAA;IACrBA,EAAA,CAAGW,YAAA,CAAa,YAAYL,OAAA,CAAQM,QAAA;IAEpCC,MAAA,CAAOC,OAAA,CAAQR,OAAA,CAAQS,MAAA,EAAQC,OAAA,CAAQ,CAAC,CAACC,SAAA,EAAWC,CAAA,MAAO;MACzDC,EAAA,CAAGnB,EAAA,EAAIiB,SAAA,CAAUG,WAAA,GAAcC,KAAA,CAAM,IAAIH,CAAA;IAAA;EAAA;AAAA;AAK/C,IAAAI,gBAAA,GAAe;EACbC,QAAQvB,EAAA,EAAIC,OAAA,EAASC,KAAA,EAAO;IAC1BH,YAAA,CAAaC,EAAA,EAAIC,OAAA,EAASC,KAAA;EAAA;EAE5BsB,QAAQxB,EAAA,EAAIC,OAAA,EAASC,KAAA,EAAO;IAC1BH,YAAA,CAAaC,EAAA,EAAIC,OAAA,EAASC,KAAA;EAAA;AAAA;MAIjBuB,QAAA,GAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}