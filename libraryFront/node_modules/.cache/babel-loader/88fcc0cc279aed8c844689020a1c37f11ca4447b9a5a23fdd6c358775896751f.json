{"ast":null,"code":"import { resolveComponent, openBlock, createBlock, Transition, withCtx, createElementBlock, normalizeStyle, withModifiers, renderSlot, createVNode, createCommentVNode } from 'vue';\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_caret_top = resolveComponent(\"caret-top\");\n  const _component_el_icon = resolveComponent(\"el-icon\");\n  return openBlock(), createBlock(Transition, {\n    name: \"el-fade-in\"\n  }, {\n    default: withCtx(() => [_ctx.visible ? (openBlock(), createElementBlock(\"div\", {\n      key: 0,\n      style: normalizeStyle({\n        right: _ctx.styleRight,\n        bottom: _ctx.styleBottom\n      }),\n      class: \"el-backtop\",\n      onClick: _cache[0] || (_cache[0] = withModifiers((...args) => _ctx.handleClick && _ctx.handleClick(...args), [\"stop\"]))\n    }, [renderSlot(_ctx.$slots, \"default\", {}, () => [createVNode(_component_el_icon, {\n      class: \"el-backtop__icon\"\n    }, {\n      default: withCtx(() => [createVNode(_component_caret_top)]),\n      _: 1\n    })])], 4)) : createCommentVNode(\"v-if\", true)]),\n    _: 3\n  });\n}\nexport { render };","map":{"version":3,"names":["createBlock","Transition","name","_ctx","visible","openBlock","createElementBlock","style","normalizeStyle","class","onClick","_cache","withModifiers","args","handleClick","renderSlot","$slots","createVNode","_component_el_icon","_component_caret_top","_"],"sources":["../../../../../../packages/components/backtop/src/backtop.vue?vue&type=template&id=63a7fea6&lang.js"],"sourcesContent":["<template>\n  <transition name=\"el-fade-in\">\n    <div\n      v-if=\"visible\"\n      :style=\"{\n        right: styleRight,\n        bottom: styleBottom,\n      }\"\n      class=\"el-backtop\"\n      @click.stop=\"handleClick\"\n    >\n      <slot>\n        <el-icon class=\"el-backtop__icon\"><caret-top /></el-icon>\n      </slot>\n    </div>\n  </transition>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, computed, onMounted, shallowRef } from 'vue'\nimport { useEventListener, useThrottleFn } from '@vueuse/core'\nimport { ElIcon } from '@element-plus/components/icon'\nimport { easeInOutCubic } from '@element-plus/utils/animation'\nimport { throwError } from '@element-plus/utils/error'\nimport { CaretTop } from '@element-plus/icons-vue'\n\nimport { backtopEmits, backtopProps } from './backtop'\n\nconst COMPONENT_NAME = 'ElBacktop'\n\nexport default defineComponent({\n  name: COMPONENT_NAME,\n  components: {\n    ElIcon,\n    CaretTop,\n  },\n  props: backtopProps,\n  emits: backtopEmits,\n\n  setup(props, { emit }) {\n    const el = shallowRef<HTMLElement | undefined>(document.documentElement)\n    const container = shallowRef<Document | HTMLElement>(document)\n    const visible = ref(false)\n    const styleBottom = computed(() => `${props.bottom}px`)\n    const styleRight = computed(() => `${props.right}px`)\n\n    const scrollToTop = () => {\n      if (!el.value) return\n      const beginTime = Date.now()\n      const beginValue = el.value.scrollTop\n      const frameFunc = () => {\n        if (!el.value) return\n        const progress = (Date.now() - beginTime) / 500\n        if (progress < 1) {\n          el.value.scrollTop = beginValue * (1 - easeInOutCubic(progress))\n          requestAnimationFrame(frameFunc)\n        } else {\n          el.value.scrollTop = 0\n        }\n      }\n      requestAnimationFrame(frameFunc)\n    }\n    const handleScroll = () => {\n      if (el.value) visible.value = el.value.scrollTop >= props.visibilityHeight\n    }\n    const handleClick = (event: MouseEvent) => {\n      scrollToTop()\n      emit('click', event)\n    }\n\n    const handleScrollThrottled = useThrottleFn(handleScroll, 300)\n\n    onMounted(() => {\n      if (props.target) {\n        el.value =\n          document.querySelector<HTMLElement>(props.target) ?? undefined\n        if (!el.value) {\n          throwError(COMPONENT_NAME, `target is not existed: ${props.target}`)\n        }\n        container.value = el.value\n      }\n\n      useEventListener(container, 'scroll', handleScrollThrottled)\n    })\n\n    return {\n      visible,\n      styleBottom,\n      styleRight,\n      handleClick,\n    }\n  },\n})\n</script>\n"],"mappings":";;;;sBACEA,WAAA,CAAAC,UAAA;IAAYC,IAAA,EAAK;EAAA;qBACf,OACQC,IAAA,CAAAC,OAAA,IAAAC,SAAA,IADRC,kBAAA;;MAEGC,KAAA,EAAAC,cAAA;;;;MAIDC,KAAA,EAAM;MACLC,OAAA,EAAAC,MAAA,QAAAA,MAAA,MAAAC,aAAA,KAAAC,IAAA,KAAYV,IAAA,CAAAW,WAAA,IAAAX,IAAA,CAAAW,WAAA,IAAAD,IAAA;QAEbE,UAAA,CAAAZ,IAAA,CAAAa,MAAA,wBACEC,WAAA,CAAAC,kBAAA;MAAST,KAAA,EAAM;IAAA;uBAAmB,OAAAQ,WAAA,CAAaE,oBAAA;MAAAC,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}